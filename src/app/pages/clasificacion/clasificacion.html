<app-main-layout>
  <app-header [titulo]="'ClasificaciÃ³n'"></app-header>
  <div class="!mt-[20px] !mb-[20px] flex flex-row items-stretch gap-3">
    <button class="!p-3 rounded-[30px] border border-[var(--color-bordes)] hover:cursor-pointer"
      (click)="seleccionarFiltro('estrellas')" [ngClass]="{
    '!bg-[#F0C419] !border-white': filtroSeleccionado() === 'estrellas',
    'bg-[var(--color-principal)]': filtroSeleccionado() !== 'estrellas'
  }">Estrellas</button>
    <button class="!p-3 rounded-[30px] border border-[var(--color-bordes)] hover:cursor-pointer"
      (click)="seleccionarFiltro('partidasGanadas')" [ngClass]="{
    '!bg-[#F0C419] !border-white': filtroSeleccionado() === 'partidasGanadas',
    'bg-[var(--color-principal)]': filtroSeleccionado() !== 'partidasGanadas'
  }">Partidas Ganadas</button>
  </div>
  <div class="flex flex-col gap-5">
    @for (usuario of usuariosOrdenados(); track $index) {
    <div
      class="flex flex-row justify-between items-center !p-5 bg-[var(--color-principal)] rounded-[20px] border border-[var(--color-bordes)] animate-fade-in-up">
      <div class="flex flex-row items-center gap-2">
        <div
          class="bg-[var(--azul-claro)] !w-[20px] !h-[20px] !p-4 flex flex-row items-center justify-center rounded-[10px] border-3 border-white"
          [ngClass]="{'bg-amber-500 !border-amber-300':($index + 1) == 1, 'bg-gray-500 !border-gray-300':($index + 1) == 2, 'bg-amber-800': ($index + 1) == 3}">
          <strong>{{$index + 1}}</strong>
        </div>
        <img [src]="usuario.fotoURL" alt="" class="!w-[50px] !h-[50px] object-cover rounded-[50%]">
        <strong>{{usuario.nombre}}</strong>
      </div>


      <div class="flex flex-row items-center gap-4">
        @if(filtroSeleccionado()==="partidasGanadas"){
        <p class="text-[16px]">{{usuario.partidasGanadas}} <span class="text-[var(--color-bordes)]">partidas
            ganadas</span></p>
        }

        @if(filtroSeleccionado()==="estrellas"){
        <item [item]="'estrellas'" [cantidad]="usuario.estrellas" [cssFlexRow]="'reverse'" [cssIconDimension]="24">
        </item>
        }

      </div>
    </div>
    }
  </div>
</app-main-layout>
